# MidiDrumiGen v2.0 - Production Requirements
# Python 3.11+ required (Recommended: 3.12)
# Last verified: 2025-11-17

# ============================================================================
# CORE WEB FRAMEWORK & API
# ============================================================================

fastapi==0.115.4          # REST API framework
uvicorn[standard]==0.32.1 # ASGI server
pydantic==2.10.3          # Data validation
pydantic-settings==2.6.1  # Settings management
python-multipart==0.0.19  # File uploads

# ============================================================================
# ASYNC TASK QUEUE
# ============================================================================

celery==5.4.0             # Distributed task queue
redis==5.2.1              # Message broker & cache
flower==2.0.1             # Celery monitoring UI
kombu==5.4.2              # Messaging library

# ============================================================================
# LLM PROVIDERS (v2.0 Core Feature)
# ============================================================================

anthropic==0.39.0         # Anthropic Claude 3.5 Sonnet API (Primary)
google-generativeai==0.8.3 # Google Gemini 2.5/3 API (Secondary)
openai==1.54.5            # OpenAI ChatGPT 5.1 API (Tertiary/Fallback)

# ============================================================================
# DATABASE & VECTOR SEARCH
# ============================================================================

sqlalchemy==2.0.36        # ORM
alembic==1.14.0           # Database migrations
psycopg2-binary==2.9.10   # PostgreSQL adapter
asyncpg==0.30.0           # Async PostgreSQL
pgvector==0.3.6           # Vector similarity search

# ============================================================================
# RESEARCH & DATA COLLECTION
# ============================================================================

# Web Scraping
beautifulsoup4==4.12.3    # HTML parsing
lxml==5.3.0               # XML/HTML parser
scrapy==2.12.0            # Web crawling framework
newspaper3k==0.2.8        # Article extraction
requests==2.32.3          # HTTP library
aiohttp==3.11.10          # Async HTTP
httpx==0.28.1             # Modern HTTP client

# Audio Analysis
librosa==0.10.2.post1     # Audio processing, tempo detection, rhythm analysis (PRIMARY)
madmom==0.16.1            # Advanced beat/tempo tracking, downbeat detection
yt-dlp==2024.12.13        # YouTube video/audio download
soundfile==0.12.1         # Audio file I/O
audioread==3.0.1          # Audio file reading

# Note: Essentia removed due to poor Windows compatibility
# Librosa + madmom provide all necessary audio analysis features cross-platform

# NLP & Text Embeddings
spacy==3.8.2              # Natural language processing
sentence-transformers==3.3.1  # Text embeddings for similarity
transformers==4.47.1      # HuggingFace (embeddings only, no training)
tokenizers==0.21.0        # Fast tokenizers

# ============================================================================
# MIDI PROCESSING (Maintained from v1.x)
# ============================================================================

mido==1.3.3               # MIDI I/O and manipulation
python-rtmidi==1.5.8      # Real-time MIDI

# ============================================================================
# SCIENTIFIC COMPUTING
# ============================================================================

numpy==1.26.4             # Numerical computing
scipy==1.14.1             # Scientific algorithms
pandas==2.2.3             # Data manipulation

# ============================================================================
# UTILITIES
# ============================================================================

python-dotenv==1.0.1      # Environment variable management
pyyaml==6.0.2             # YAML configuration
loguru==0.7.3             # Logging
click==8.1.8              # CLI tools
tqdm==4.67.1              # Progress bars
python-dateutil==2.9.0    # Date utilities

# ============================================================================
# TESTING & DEVELOPMENT
# ============================================================================

pytest==8.3.4             # Testing framework
pytest-asyncio==0.24.0    # Async testing
pytest-cov==6.0.0         # Code coverage
pytest-mock==3.14.0       # Mocking for tests
httpx==0.28.1             # FastAPI testing (same as above)
black==24.10.0            # Code formatter
ruff==0.8.4               # Linter
mypy==1.13.0              # Type checker
pre-commit==4.0.1         # Git hooks

# ============================================================================
# PERFORMANCE OPTIMIZATIONS (Optional)
# ============================================================================

orjson==3.10.12           # Faster JSON parsing
uvloop==0.21.0            # Faster event loop (Linux/macOS only)
httptools==0.6.4          # Faster HTTP parsing

# ============================================================================
# MONITORING & LOGGING (Optional for Production)
# ============================================================================

sentry-sdk==2.19.2        # Error tracking
prometheus-client==0.21.1 # Metrics

# ============================================================================
# LEGACY LIBRARIES TO AVOID (v1.x Training Dependencies)
# ============================================================================
# ❌ torch - Removed in v2.0 (no ML training)
# ❌ torchvision - Removed in v2.0
# ❌ miditok - Removed in v2.0 (no tokenization)
# ❌ magenta - Never used (TensorFlow-based, inactive)
# ❌ pretty-midi - Never used (abandoned since 2020)
# ❌ tensorflow - Never used (conflicts with PyTorch)
